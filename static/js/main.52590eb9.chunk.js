(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{41:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(0),r=n(6),a=n.n(r),u=n(3),i=n(12),b=n(35),s=(n(41),n(18)),l=(n(42),n(8)),j=n(14),f=function(t){return t.phonebook.filter},d=function(t){return t.phonebook.contacts},p={getFilter:f,getContacts:d,getLoading:function(t){return t.phonebook.loading},getFilterContacts:Object(j.a)([f,d],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},O=n(9),h=n.n(O),m=n(17),v=n(13),x=n.n(v),g=n(2),C=Object(g.b)("phonebook/fetchContactRequest"),k=Object(g.b)("phonebook/fetchContactSuccess"),F=Object(g.b)("phonebook/fetchContactError"),y=Object(g.b)("phonebook/addContactRequest"),w=Object(g.b)("phonebook/addContactSuccess"),N=Object(g.b)("phonebook/addContactError"),S=(Object(g.b)("phonebook/findContactName"),Object(g.b)("phonebook/deleteContactRequest")),L=Object(g.b)("phonebook/deleteContactSuccess"),P=Object(g.b)("phonebook/deleteContactError"),_=Object(g.b)("phonebook/changeFilter");x.a.defaults.baseURL="http://localhost:3030";var A,q,E=function(){return function(){var t=Object(m.a)(h.a.mark((function t(e){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(C()),t.prev=1,t.next=4,x.a.get("/contacts");case 4:n=t.sent,c=n.data,e(k(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(F(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},R=function(t,e){return function(){var n=Object(m.a)(h.a.mark((function n(c){var o,r,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={name:t,phone:e},c(y()),n.prev=2,n.next=5,x.a.post("/contacts",o);case 5:r=n.sent,a=r.data,c(w(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(N(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},D=function(t){return function(){var e=Object(m.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(S()),e.prev=1,e.next=4,x.a.delete("/contacts/".concat(t));case 4:n(L(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(P(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},I=function(t){return function(e,n){return n().phonebook.contacts.filter((function(e){return e.name===t}))}},B=n(16),H=n(4),J=Object(g.c)([],(A={},Object(u.a)(A,k,(function(t,e){return e.payload})),Object(u.a)(A,w,(function(t,e){var n=e.payload;return[].concat(Object(B.a)(t),[n])})),Object(u.a)(A,L,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),A)),z=Object(g.c)("",Object(u.a)({},_,(function(t,e){return e.payload}))),T=Object(g.c)(!1,(q={},Object(u.a)(q,C,(function(){return!0})),Object(u.a)(q,k,(function(){return!1})),Object(u.a)(q,F,(function(){return!1})),Object(u.a)(q,y,(function(){return!0})),Object(u.a)(q,w,(function(){return!1})),Object(u.a)(q,N,(function(){return!1})),Object(u.a)(q,S,(function(){return!0})),Object(u.a)(q,L,(function(){return!1})),Object(u.a)(q,P,(function(){return!1})),q)),U=Object(H.c)({contacts:J,filter:z,loading:T}),G={name:"",phone:""},K=function(t){var e=t.onFindName,n=t.onAddContact,r=Object(o.useState)(Object(i.a)({},G)),a=Object(b.a)(r,2),l=a[0],j=a[1],f=l.name,d=l.phone,p=function(t){var e=t.target,n=e.name,c=e.value;j((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(u.a)({},n,c))}))},O=function(){j(Object(i.a)({},G))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:"phonebook",onSubmit:function(t){return t.preventDefault(),f&&d?(console.log(e(f)),0!==e(f).length?(s.b.warn(f+" is already in contacts.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1):(n(f,d),void O())):(s.b.error("Name or phone filed is empty.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1)},children:[Object(c.jsx)("label",{htmlFor:"name_1",children:"Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"name",id:"name_1",value:f,onChange:p}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"phone_1",children:"Number"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"tel",name:"phone",id:"phone_1",value:d,onChange:p}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Add contact"})]}),Object(c.jsx)(s.a,{})]})};K.defaultProps={onAddContact:function(){},onFindName:function(){}};var M=Object(l.b)(null,(function(t){return{onAddContact:function(e,n){return t(R(e,n))},onFindName:function(e){return t(I(e))}}}))(K),Q=function(t){var e=t.loading,n=t.contacts,r=t.fetchContacts,a=t.removeContactId;return Object(o.useEffect)((function(){console.log(r())}),[r]),Object(c.jsxs)(c.Fragment,{children:[e&&Object(c.jsx)("h3",{children:"Loading"}),Object(c.jsx)("ul",{children:n.map((function(t){var e=t.id,n=t.name,o=t.phone;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("span",{children:[" ",n,": ",o," "]}),Object(c.jsx)("button",{onClick:function(){a(e)},children:"Delete"})," "]},e)}))})]})};Q.defaultProps={contacts:[],removeContactId:function(){}};var V=Object(l.b)((function(t){return{loading:p.getLoading(t),contacts:p.getFilterContacts(t)}}),(function(t){return{fetchContacts:function(){return t(E())},removeContactId:function(e){return t(D(e))}}}))(Q),W=function(t){var e=t.filter,n=t.onFilter;return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[Object(c.jsx)("label",{htmlFor:"filter_1",children:"Find contacts by name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"filter",id:"filter_1",value:e,onChange:n})]})};W.defaultProps={filter:"",onFilter:function(){}};var X=Object(l.b)((function(t){return{filter:p.getFilter(t)}}),(function(t){return{onFilter:function(e){return t(_(e.target.value))}}}))(W);function Y(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(M,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(X,{}),Object(c.jsx)(V,{})]})}var Z=n(34),$=n.n(Z),tt=n(10),et=[].concat(Object(B.a)(Object(g.d)({serializableCheck:{ignoredActions:[tt.a,tt.f,tt.b,tt.c,tt.d,tt.e]}})),[$.a]),nt=Object(g.a)({reducer:{phonebook:U},middleware:et,devTools:!1});a.a.render(Object(c.jsx)(l.a,{store:nt,children:Object(c.jsx)(Y,{})}),document.querySelector("#root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.52590eb9.chunk.js.map