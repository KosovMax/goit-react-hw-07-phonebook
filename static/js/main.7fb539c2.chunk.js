(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{40:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),o=n(6),a=n.n(o),u=n(2),i=n(12),s=n(34),b=(n(40),n(17)),j=(n(41),n(8)),l=n(3),f=Object(l.b)("phonebook/fetchContactRequest"),d=Object(l.b)("phonebook/fetchContactSuccess"),p=Object(l.b)("phonebook/fetchContactError"),O=Object(l.b)("phonebook/addContactRequest"),h=Object(l.b)("phonebook/addContactSuccess"),v=Object(l.b)("phonebook/addContactError"),x=Object(l.b)("phonebook/deleteContactRequest"),m=Object(l.b)("phonebook/deleteContactSuccess"),k=Object(l.b)("phonebook/deleteContactError"),g=Object(l.b)("phonebook/changeFilter"),C=n(9),y=n.n(C),w=n(16),F=n(13),S=n.n(F);S.a.defaults.baseURL="http://localhost:3030";var P=function(){return function(){var t=Object(w.a)(y.a.mark((function t(e){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(f()),t.prev=1,t.next=4,S.a.get("/contacts");case 4:n=t.sent,c=n.data,e(d(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(p(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},_=function(t,e){return function(){var n=Object(w.a)(y.a.mark((function n(c){var r,o,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,phone:e},c(O()),n.prev=2,n.next=5,S.a.post("/contacts",r);case 5:o=n.sent,a=o.data,c(h(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(v(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},A=function(t){return function(){var e=Object(w.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(x()),e.prev=1,e.next=4,S.a.delete("/contacts/".concat(t));case 4:n(m(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(k(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},q=function(t){return t.phonebook.filter},E=function(t){return t.phonebook.contacts},L=q,N=E,R=function(t){return t.phonebook.loading},D=function(t){var e=q(t),n=E(t);return console.log(t),n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))},I={name:"",phone:""},B=function(t){var e=t.contacts,n=t.onAddContact,o=Object(r.useState)(Object(i.a)({},I)),a=Object(s.a)(o,2),j=a[0],l=a[1],f=j.name,d=j.phone,p=function(t){var e=t.target,n=e.name,c=e.value;l((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(u.a)({},n,c))}))},O=function(){l(Object(i.a)({},I))},h=function(t){return e.filter((function(e){return e.name===t}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:"phonebook",onSubmit:function(t){return t.preventDefault(),f&&d?0!==h(f).length?(b.b.warn(f+" is already in contacts.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1):(n(f,d),void O()):(b.b.error("Name or phone filed is empty.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1)},children:[Object(c.jsx)("label",{htmlFor:"name_1",children:"Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"name",id:"name_1",value:f,onChange:p}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"phone_1",children:"Number"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"tel",name:"phone",id:"phone_1",value:d,onChange:p}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{type:"submit",children:"Add contact"})]}),Object(c.jsx)(b.a,{})]})};B.defaultProps={contacts:[],onAddContact:function(){}};var H=Object(j.b)((function(t){return{contacts:N(t)}}),(function(t){return{onAddContact:function(e,n){return t(_(e,n))}}}))(B),J=function(t){var e=t.loading,n=t.contacts,o=t.fetchContacts,a=t.removeContactId;return Object(r.useEffect)((function(){console.log(o())}),[o]),Object(c.jsxs)(c.Fragment,{children:[e&&Object(c.jsx)("h3",{children:"Loading"}),Object(c.jsx)("ul",{children:n.map((function(t){var e=t.id,n=t.name,r=t.phone;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("span",{children:[" ",n,": ",r," "]}),Object(c.jsx)("button",{onClick:function(){a(e)},children:"Delete"})," "]},e)}))})]})};J.defaultProps={contacts:[],removeContactId:function(){}};var z=Object(j.b)((function(t){return{loading:R(t),contacts:D(t)}}),(function(t){return{fetchContacts:function(){return t(P())},removeContactId:function(e){return t(A(e))}}}))(J),T=function(t){var e=t.filter,n=t.onFilter;return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[Object(c.jsx)("label",{htmlFor:"filter_1",children:"Find contacts by name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",name:"filter",id:"filter_1",value:e,onChange:n})]})};T.defaultProps={filter:"",onFilter:function(){}};var U=Object(j.b)((function(t){return{filter:L(t)}}),(function(t){return{onFilter:function(e){return t(g(e.target.value))}}}))(T);function G(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(H,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(U,{}),Object(c.jsx)(z,{})]})}var K,M,Q=n(15),V=n(4),W=Object(l.c)([],(K={},Object(u.a)(K,d,(function(t,e){return e.payload})),Object(u.a)(K,h,(function(t,e){var n=e.payload;return[].concat(Object(Q.a)(t),[n])})),Object(u.a)(K,m,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),K)),X=Object(l.c)("",Object(u.a)({},g,(function(t,e){return e.payload}))),Y=Object(l.c)(!1,(M={},Object(u.a)(M,f,(function(){return!0})),Object(u.a)(M,d,(function(){return!1})),Object(u.a)(M,p,(function(){return!1})),Object(u.a)(M,O,(function(){return!0})),Object(u.a)(M,h,(function(){return!1})),Object(u.a)(M,v,(function(){return!1})),Object(u.a)(M,x,(function(){return!0})),Object(u.a)(M,m,(function(){return!1})),Object(u.a)(M,k,(function(){return!1})),M)),Z=Object(V.c)({contacts:W,filter:X,loading:Y}),$=n(33),tt=n.n($),et=n(10),nt=[].concat(Object(Q.a)(Object(l.d)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})),[tt.a]),ct=Object(l.a)({reducer:{phonebook:Z},middleware:nt,devTools:!1});a.a.render(Object(c.jsx)(j.a,{store:ct,children:Object(c.jsx)(G,{})}),document.querySelector("#root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.7fb539c2.chunk.js.map